import 'bootstrap/dist/css/bootstrap.css';

import { Appear, Image } from 'mdx-deck';
import List from './components/List.jsx';
import { CodeSurfer } from "mdx-deck-code-surfer";
import nightOwl from "prism-react-renderer/themes/nightOwl";
import { SplitRight } from 'mdx-deck/layouts';

export { default as theme } from './theme.js';

export default SplitRight

![](https://upload.wikimedia.org/wikipedia/commons/a/a7/React-icon.svg)

# React

[https://react-imd-2018.now.sh](https://react-imd-2018.now.sh)

```notes
Notas vis√≠veis apenas para mim

T√≥picos
  - Sobre mim
  - Logique
  - Plataforma LoP
```

---

# Ol√° ‚úã

```notes
- C&T.
- Android/React Arduino Day, NodeJS e Programa√ß√£o Web na ECT
- Programa√ß√£o, cultura japonesa, fotografia, mais recentemente criptomoedas
- Jap√£o estudando educa√ß√£o (programa√ß√£o para iniciantes, games como motiva√ß√£o)
- Bolsista no projeto do BR-PlantExpert
- Plataforma LoP
- Logique Sistemas
- Agradecimentos
```

---
## Todos os c√≥digos s√£o copi√°veis üëå

```notes
- C√≥digos em ingl√™s da doc do React
```
---
## Dia 1
  
<ul style={{ textAlign: 'left' }}>
  <li>Javascript</li>
  <li>ES6 e Manipula√ß√£o de arrays</li>
  <li>Exerc√≠cio</li>
  <li>React</li>
  <li>JSX, Componentes, Props, State</li>
  <li>Formul√°rios</li>
  <li>Pausa</li>
  <li>Create React App</li>
  <li>Pr√°tica</li>
</ul>
---

## Dia 2

* Padr√µes avan√ßados para cria√ß√£o componentes
* Ecossistema React
* State management
* styles
* Integrando em uma aplica√ß√£o j√° existente (case BR-PlantExpert)
* Bundlers  

```notes
- Um pouco de muitas coisas
```
---
<Image src={require("file-loader!./imgs/flavors.png")} size="80%" />

```notes
Flavors - Sabores
ES6 bem estabelecido
Destaque para Typescript que vem crescendo
```
---
<Image src={require("file-loader!./imgs/flavors-brazil.png")} size="30%" />
---
<Image src={require("file-loader!./imgs/libs.png")} size="80%" />

```notes
Frontend

React ainda √© dominante
Vue vem ganhando for√ßa
Angular vem perdendo
```
---
<Image src={require("file-loader!./imgs/backend-javascript.png")} size="80%" />

```notes
Backend

Alto n√∫mero de desenvolvedores que n√£o conhecem as libs
```
---
[Opini√µes](https://2017.stateofjs.com/2017/opinions/)
---
### ECMAScript / Javascript
### ES6 / ES2015
---
## Ecossistema

```notes
AI
Servidor
Jogos
Mobile multiplataforma
```
---
## Ecossistema

* [Scribbletune](http://scribbletune.com/)
* [Electron](https://electronjs.org/)
* [Tensorflow](https://js.tensorflow.org/)
* Web-scrapping
* BOTs de mensagens
* CLI's

---
## Ecossistema

* Aplica√ß√µes Web
* PDF
* Hardware - [johnny-five](https://github.com/rwaldron/johnny-five)
* Real-time - [socket.io](https://socket.io/)
* Conex√£o com bancos de dados
* [Automa√ß√£o de desktop - Google Chrome IAMDinosaur](https://github.com/ivanseidel/IAMDinosaur)
---

### Recomenda√ß√£o - Event Loop

<iframe width="560" height="315" src="https://www.youtube.com/embed/8aGhZQkoFbQ" frameBorder="0" allow="autoplay; encrypted-media" allowFullScreen></iframe>

```notes
Os problemas das frameworks atuais podem ser resolvidos com entendimento do EventLoop
```
---
# ES6 e manipula√ß√£o de arrays

```notes
React API muito simples
Muito mais saber Javascript
```
---
## Array.map

```javascript
var months = [
  { shortName: 'JAN', fullName: 'January', number: 1 },
  { shortName: 'FEB', fullName: 'February', number: 2 }
];

var shortNameMonths = months.map(function(month) {
  return month.shortName;
});

console.log(shortNameMonths); // ['JAN', 'FEB', ...]
```
---
## Array.filter

```javascript
var months = [
  { shortName: 'JAN', fullName: 'January', number: 1 },
  { shortName: 'FEB', fullName: 'February', number: 2 }
];

var firstSemester = months.filter(function(month) {
  return month.number <= 6;
});

console.log(firstSemester); // ['JAN', 'FEB', .. , 'JUN']
```
---
## Array.reduce

```javascript
var months = [
  { shortName: 'JAN', fullName: 'January', number: 1, total: 31 },
  { shortName: 'FEB', fullName: 'February', number: 2, total: 28 },
  { shortName: 'MAR', fullName: 'March', number: 3, total: 30 }
];

var days = months.reduce(function(acc, month) {
  return acc + month.total;
}, 0);

console.log(days); // 365
```
---
## Par√¢metros default

```javascript
function multiplicar(x, y = 1) {
  return x * y;
}

multiplicar(3, 2); // 6
multiplicar(3); // 3
```
---
## Arrow functions

```javascript
var sum = function(x, y) {
  return x + y;
};

const sum = (x, y) => {
  return x + y;
};

const sum = (x, y) => x + y;

sum(1, 2); // 3
```
---
## Destructuring

```javascript
// Arrays
const array = [1, 2];
const [a, b] = array;

// Objetos
const aluno = {
  nome: 'Gabriel',
  sobrenome: 'Tib√∫rcio',
  linguagemFavorita: 'Javascript'
};

const { nome, linguagemFavorita } = aluno;
```
---
## Par√¢metros nomeados com destructuring

```javascript
function getNome(data) {
  return data.nome + ' ' + data.sobrenome;
}

function getNome({ nome, sobrenome }) {
  return nome + ' ' + sobrenome;
}
```

```notes
D√° pra imitar os par√¢metros nomeados do python
```
---
## Interpola√ß√£o de strings

```javascript
function getNome({ nome, sobrenome }) {
  return `${nome} ${sobrenome}`;
}
```

```notes
Tem bem mais coisa que d√° pra fazer com interpola√ß√£o de strings
```
---
## Classes

```javascript
class Pessoa {
  constructor(nome, sobrenome = '') {
    this.nome = nome;
    this.sobrenome = sobrenome;
  }

  getNomeCompleto() {
    return `${this.nome} ${this.sobrenome}`;
  }
}

const pessoa = new Pessoa('Gabriel', 'Tib√∫rcio');
pessoa.getNomeCompleto(); // 'Gabriel Tib√∫rcio'
```
---
# [Exerc√≠cio](https://codesandbox.io/s/k3r9kv15wv)
---

# React

<Appear>
  <p>Uma biblioteca Javascript para construir interfaces de usu√°rio</p>
  <img src={require("file-loader!./imgs/react-definition.png")} />
</Appear>

```notes
Quem t√° dizendo?
```
---
<List title="Ainda segundo o facebook"
  items={[
    'Declarativo',
    'Baseado em componentes',
    'Learn Once, Write Anywhere'
  ]} 
/>
---
<List title="React √© como uma interface"
  items={[
    'ReactDOM',
    'ReactNative',
    'Framer',
    'ReactPDF',
    'ReactWord',
    'ReactVR',
    'Netflix React para TV'
  ]} 
/>
---
<List title="Design decisions"
  items={[
    'Dificuldade de lidar com dados mudando ao longo do tempo',
    'Separa√ß√£o de responsabilidades artificial',
    'Cria√ß√£o de componentes',
    'Re-render em cada atualiza√ß√£o',
    'Acessibilidade de templates',
    'Poder de Javascript'
  ]} 
/>

```notes
- Kyle Simpson - tempo √© o fator mais complicado em uma aplica√ß√£o
- Separar templates e l√≥gica n√£o separa responsabilidade
- Separa responsabilidades de forma artificial, colocando template e l√≥gica em arquivos separados 
- React separa responsabilidades com componentes isolados que cont√©m ambos template e l√≥gica
```
---

## Hello World

```jsx
ReactDOM.render(
  <h1>Hello, world!</h1>, 
  document.getElementById('root')
);
```

```notes
- N√£o √© HTML nem Javascript
```
---
## [Exemplo](https://codesandbox.io/s/3y8y7kp3nq)
---
## [JSX](https://babeljs.io/repl/#?babili=false&browsers=&build=&builtIns=false&spec=false&loose=false&code_lz=JYWwDg9gTgLgBAJQKYEMDG8BmUIjgcilQ3wG4AoctCAOwGd4kAbJEJGmCOAXjgB4AFgEYAfAAlmTCABo4Ad2hMAJgEI-AemEjSQA&debug=false&forceAllTransforms=false&shippedProposals=false&circleciRepo=&evaluate=true&fileSize=true&timeTravel=false&sourceType=module&lineWrap=true&presets=es2016%2Creact%2Cstage-3&prettier=false&targets=&version=6.26.0&envVersion=)

```jsx
const elemento = <h1>Hello, world!</h1>;
```

```notes
- Se estiv√©ssemos em 2013, 14, 15 eu teria que convencer voc√™s
- Um dos diferenciais do React
- D√° pra usar Vue com JSX
```
---
#### Express√µes em JSX (template interpolation)

```jsx
const name = 'Gabriel';
const element = <h1>Hello, {name}</h1>;

ReactDOM.render(
  element,
  document.getElementById('root')
);
```
---
#### Qualquer express√£o JS √© v√°lida

```jsx
const user = { nome: 'Gabriel', sobrenome: 'Tib√∫rcio' };

const formatName = ({ nome, sobrenome }) => `${nome} ${sobrenome}`;

const element = <h1>Hello, {formatName(user)}!</h1>;

ReactDOM.render(
  element,
  document.getElementById('root')
);
```
---
#### JSX tamb√©m √© uma express√£o

```jsx
function getGreeting(user) {
  if (user) {
    return <h1>Hello, {formatName(user)}!</h1>;
  }
  return <h1>Hello, Stranger.</h1>;
}
```

```notes
Podemos:
- Usar em if e for
- Atribuir a vari√°veis
- Aceitar como argumento
- Retornar de fun√ß√µes
```
---
#### JSX className e camelCase para atributos

```jsx
const element = <img className="img-responsive" src={user.avatarUrl} />;
```

```jsx
const btnClass = bg === primary ? 'bg-primary' : 'bg-secondary';
const element = <button className={`btn ${btnClass}`}>Button</button>;
```
---
#### JSX √© seguro

```jsx
const title = response.inputMalicioso;

// Seguro
const element = <h1>{title}</h1>;
```

```notes
- Escapa quaisquer valores antes de renderizar
```
---
```jsx
function renderizarHtml() {
  return { __html: '<p>Texto</p>' };
}

function Componente() {
  return <div dangerouslySetInnerHTML={renderizarHtml()} />;
}
```

```notes
- Renderizar HTML fica vulner√°vel a cross-site-scripting XSS
- Precisa digitar o met√≥do e passar um objeto para lembrar que √© perigoso
```
---
### Componentes 

* Fun√ß√µes idempotentes, puras, unit√°rias.
* √â poss√≠vel descrever a UI em qualquer momento no tempo, da mesma forma que uma aplica√ß√£o renderizada no servidor
---
## Componentes e Props

```jsx
class Welcome extends React.Component {
  render() {
    return <h1>Hello, {this.props.name}</h1>;
  }
}

const element = <Welcome name="Gabriel" />;
```

```notes
H√° 2 tipos de propriedades nos componentes: props e state
props: durante o ciclo de vida do componente, n√£o mudam
```
---
### Componentes funcionais (n√£o possuem estado)

```jsx
function Welcome(props) {
  return <h1>Hello, {props.name}</h1>;
}
```
---
### Uma aplica√ß√£o React

```jsx
class App extends React.Component {
  render() {
    return (
      <div className="container-fluid">
        <NavBar />
        <SideBar />

        <div className="row">
          <MeuComponente />
        </div>
      </div>
    );
  }
}

ReactDOM.render(<App />, document.getElementById('root'));
```

```notes
Estrutura base de uma p√°gina em React
```
---
### JSX n√£o √© necess√°rio

```javascript
class Hello extends React.Component {
  render() {
    return React.createElement('div', null, `Hello ${this.props.name}`);
  }
}

ReactDOM.render(
  React.createElement(Hello, { name: 'Gabriel' }, null),
  document.getElementById('root')
);
```
---
## State

```notes
- Propriedades que mudam dentro do componente
- Estado interno
```
---
<List title="setState"
  items={[
    'Custa caro renderizar o DOM todo',
    'Virtual DOM'
  ]}
/>
---
<List title="setState"
  items={[
    'React constr√≥i uma nova sub-√°rvore da virtual DOM',
    'Compara com a virtual DOM antiga',
    'Computa a m√≠nima quantidade de muta√ß√µes no DOM e as coloca em uma fila',
    'Executa em batch todas as mudan√ßas'
  ]}
/>
---
<CodeSurfer
  title="Clock"
  theme={nightOwl}
  code={require("!raw-loader!./snippets/react/components/clock-example.jsx")}
  showNumbers={true}
  steps={[
    { range: [2, 5], notes: 'Definimos o estado inicial' },
    { range: [24, 31] },
    { range: [18, 22], notes: 'setState √© como modificamos o estado' },
    { range: [7, 12] },
    { range: [14, 16] },
    { range: [34, 37] },
    { range: [1, 37] }
  ]}
/>

```notes
- setState √© como dizemos ao react que queremos modificar o estado do componente
- componentDidMount √© onde fazemos requisi√ß√µes
- renderizamos apenas uma vez
```
---
<List title="Apenas javascript"
  items={[
    'Como declarar um componente?',
    'Como criar uma lista de componentes?',
    'Como fazer uma requisi√ß√£o?',
    'Em nenhum momento a gente olha para a DOM e procura onde devemos atualizar'
  ]}
/>

```notes
- fetch, axios, jQuery
- Requisi√ß√£o: precisamos saber apenas aonde colocar
```
---
## Eventos

```jsx
<button onclick="ativar()">
  Ativar
</button>

<button onClick={this.ativar}>
  Ativar
</button>
```

```notes
- camelCase
- fun√ß√µes != strings
- Erro comum, chamar a fun√ß√£o
```
---
## ButtonSwitch

import ButtonSwitch from './components/ButtonSwitch.jsx';

<ButtonSwitch />
---
<CodeSurfer
  title="ButtonSwitch"
  theme={nightOwl}
  code={require("!raw-loader!./components/ButtonSwitch.jsx")}
  showNumbers={true}
  steps={[
    { lines: [6] },
    { range: [18, 27], notes: 'this.handleClick' },
    { range: [12, 27] },
    { lines: [8, 9] },
    { range: [1, 27] }
  ]}
/>

```notes
- 2 coisas, valor de this e setState
- Cuidado com this em callbacks JSX
- O this dentro de m√©todos de classe n√£o se refere a classe, portanto o this ser√° undefined dentro do m√©todo handleClick.
```
---
```jsx
<button onClick={() => this.handleClick()} className={`btn btn-block ${btnClass}`}>
  {this.state.on ? 'On' : 'Off'}
</button>
```
---
```jsx
handleClick = () => {
  // this.state.on
  this.setState(state => {
    return { on: !state.on }
  });
}
```
---
import { Button } from 'reactstrap';
import ExemploModal from './components/ExemploModal.jsx';

### Modal
<ExemploModal buttonLabel="Abrir modal" />

```javascript
$('#modal').modal();
```
---
<CodeSurfer
  title="Modal"
  theme={nightOwl}
  code={require("!raw-loader!./components/ExemploModal.jsx")}
  showNumbers={true}
  steps={[
    { range: [5, 16] },
    { range: [18, 34] }
  ]}
/>

```notes
Exemplo de mudan√ßa de pensamento de c√≥digo imperativo para declarativo
```
---
## Listas

```jsx
function Lista(props) {
  const listaItens = props.itens.map(item => (
    <li>{item}</li>
  );
  return (
    <ul>{item}</ul>
  );
}

<Lista numeros={['Item 1', 'Item 2', 'Item 3', 'Item 4']} />
```

```notes
- Warning √© necess√°rio uma key para itens de uma lista
```
---
## Listas

```jsx
function Lista(props) {
  const listaItens = props.itens.map(item => (
    <li key={item}>{item}</li>
  );
  return (
    <ul>{item}</ul>
  );
}

<Lista numeros={['Item 1', 'Item 2', 'Item 3', 'Item 4']} />
```
---
## Listas

```jsx
function Lista(props) {
  const listaItens = props.itens.map((item, indice) => (
    <li key={indice}>{item}</li>
  );
  return (
    <ul>{item}</ul>
  );
}

<Lista numeros={['Item 1', 'Item 1', 'Item 1', 'Item 1']} />
```

```notes
- O React iria reclamar se fossem usadas keys iguais
```
---
# Formul√°rios

```notes
- N√£o √© dif√≠cil, mas ainda √© burocr√°tico
- Funciona um pouco diferente porque elementos de formul√°rio possuem um estado pr√≥prio
```
---
<CodeSurfer
  title="Formul√°rio"
  theme={nightOwl}
  code={require("!raw-loader!./components/NameForm.jsx")}
  showNumbers={true}
  steps={[
    { range: [19, 30] },
    { range: [10, 12] },
    { range: [1, 31] },
  ]}
/>

```notes
- Entender um componente, come√ßar pela fun√ß√£o render
- Componentes controlados - valor do input no state
- Evento normal do HTML
```
---
## Select

```html
<select>
  <option value="maca">Ma√ß√£</option>
  <option value="laranja">Laranja</option>
  <option selected value="uva">Uva</option>
  <option value="limao">Lim√£o</option>
</select>
``` 

```notes
- Forma de selecionar uma op√ß√£o no HTML
```
---
## Select

```jsx
<form onSubmit={this.handleSubmit}>
  <label>
    Selecione sua fruta favorita
    <select value={this.state.value} onChange={this.handleChange}>
      <option value="maca">Ma√ß√£</option>
      <option value="laranja">Laranja</option>
      <option value="uva">Uva</option>
      <option value="limao">Lim√£o</option>
    </select>
  </label>
  <input type="submit" value="Submit" />
</form>
``` 

```notes
- React usa uma propriedade value no select
- Isso faz com que o select funcione parecido com o input
```
---
## Formul√°rios

```javascript
this.state = { nome: '', sobrenome: '', linguagemFavorita: '' };

handleChangeNome(event) {
  this.setState({ nome: event.target.value });
}

handleChangeSobrenome(event) {
  this.setState({ sobrenome: event.target.value });
}

handleChangeLinguagemFavorita(event) {
  this.setState({ linguagemFavorita: event.target.value });
}
```
---
## Formul√°rios

```javascript
this.state = { nome: '', sobrenome: '', linguagemFavorita: '' };

handleChange(event) {
  const target = event.target;
  const { name, value } = target;
  this.setState({ 
    [name]: value
  });
}
```

```notes
- Usamos propriedades computadas do ES6
- A propriedade se torna din√¢mica
```
---
import Forms from './components/Forms.jsx';

<Forms />
---




# Pausa




---
# Create React App
---
```bash
npx create-react-app my-app
cd my-app
npm start
```
---
```
